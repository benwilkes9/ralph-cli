project: "{{.ProjectName}}"
agent: claude

backpressure:
  test: "{{.TestCmd}}"
{{- if .TypecheckCmd}}
  typecheck: "{{.TypecheckCmd}}"
{{- end}}
{{- if .LintCmd}}
  lint: "{{.LintCmd}}"
{{- end}}

phases:
  plan:
    prompt: .ralph/prompts/plan.md
    output: .ralph/plans/
    max_iterations: 5
  build:
    prompt: .ralph/prompts/build.md
    max_iterations: 20
{{- if .ExtraAllowedDomains}}

network:
  extra_allowed_domains:
{{- range .ExtraAllowedDomains}}
    - {{.}}
{{- end}}
{{- end}}
{{- if .DepsDir}}

docker:
  deps_dir: "{{.DepsDir}}"
{{- end}}
